/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_commonFiles_commonLogic_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/commonFiles/commonLogic.js */ \"./src/modules/commonFiles/commonLogic.js\");\n/* harmony import */ var _modules_commonFiles_commonLogic_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_commonFiles_commonLogic_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_commonFiles_pageRenders_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/commonFiles/pageRenders.js */ \"./src/modules/commonFiles/pageRenders.js\");\n/* harmony import */ var _modules_commonFiles_pageRenders_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_commonFiles_pageRenders_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _modules_createObjectPage_CreateObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/createObjectPage/CreateObject.js */ \"./src/modules/createObjectPage/CreateObject.js\");\n/* harmony import */ var _modules_chartPage_chartPage2_1_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/chartPage/chartPage2.1.js */ \"./src/modules/chartPage/chartPage2.1.js\");\n/*import {\r\n\tconfig\r\n} from './modules/config'*/\r\n//import AppService from './modules/app.service'\r\n//import './modules/header.component'\r\n\r\n\r\n\r\n\r\n//import './modules/unitedChartPage/UnitedChartPage.js'\r\n//1 - импорт через деструктуризацию, 2 - импорт через дефолт, 3 - импорт целиком\r\n\r\nconsole.log('Start')\r\n\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/modules/chartPage/chartOptions.js":
/*!***********************************************!*\
  !*** ./src/modules/chartPage/chartOptions.js ***!
  \***********************************************/
/*! exports provided: showOptions, addCashToChart, setBuildingPeriod, setRepaymentPeriod, countCurrentWastedSum, saveChangesInChosenVar, createTotalValueLine, deleteVariant */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showOptions\", function() { return showOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addCashToChart\", function() { return addCashToChart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setBuildingPeriod\", function() { return setBuildingPeriod; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setRepaymentPeriod\", function() { return setRepaymentPeriod; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"countCurrentWastedSum\", function() { return countCurrentWastedSum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"saveChangesInChosenVar\", function() { return saveChangesInChosenVar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createTotalValueLine\", function() { return createTotalValueLine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteVariant\", function() { return deleteVariant; });\n//Функция отображения опций под графиком\r\nfunction showOptions(chosenVar) {\r\n\t//Блок с опциями под графиком\r\n\tconst chartPageOptions = document.querySelector('.chartPage__wrapper__chart_options')\r\n\tconst setPeriodOption = document.querySelector('.chart_options__set_period__wrapper')\r\n\tconst addMoneyOption = document.querySelector('.chart_options__add_cash__wrapper')\r\n\tconst chartPageTable = document.querySelector('.chart_page__table__wrapper')\r\n\r\n\tchartPageOptions.classList.remove('hide')\r\n\tif (chosenVar.periods.length > 0) {\r\n\t\tsetPeriodOption.classList.add('hide')\r\n\t\taddMoneyOption.classList.remove('hide')\r\n\t\tchartPageTable.classList.remove('hide')\r\n\t} else {\r\n\t\tsetPeriodOption.classList.remove('hide')\r\n\t\taddMoneyOption.classList.add('hide')\r\n\t\tchartPageTable.classList.add('hide')\r\n\t}\r\n}\r\n\r\n\r\n//Добавление/удаление денежной суммы на графике у выбранного источника денежных средств\r\nfunction addCashToChart(chosenVar, source, volume, month, year, operation, periodsArr) {\r\n\tlet incomeDate = month + ' ' + year\r\n\tlet indexOfDate\r\n\tlet sourceVolume\r\n\r\n\tif (!year) {\r\n\t\talert('Укажите год')\r\n\t\treturn\r\n\t}\r\n\tindexOfDate = periodsArr.indexOf(incomeDate)\r\n\r\n\t//Следует учитывать, что если происходит вычитание, то логика функции не меняется - просто вычитаемое становится отрицательным числом\r\n\tif (operation == '-') {\r\n\t\tsourceVolume = +(volume.replace(/ /g, \"\")) * -1\r\n\r\n\t\tif (chosenVar[source].currentBalance - sourceVolume > chosenVar[source].defaultBalance) {\r\n\t\t\talert('Превышен изначальный объём финансирования указанного источника. Введите меньшую сумму.')\r\n\t\t\treturn\r\n\t\t} else if (chosenVar[source].changesArr[indexOfDate] < sourceVolume * (-1)) {\r\n\t\t\talert('Введённое число превышает вложенный объём средств в выбранном периоде.')\r\n\t\t\treturn\r\n\t\t}\r\n\t} else {\r\n\t\tsourceVolume = +(volume.replace(/ /g, \"\"))\r\n\t}\r\n\r\n\r\n\r\n\tif (indexOfDate >= 0) {\r\n\t\tif (sourceVolume <= chosenVar[source].currentBalance) {\r\n\t\t\tchosenVar[source].currentSpended += sourceVolume\r\n\t\t\tfor (let i = indexOfDate; i < periodsArr.length; i++) {\r\n\t\t\t\tif (chosenVar[source].changesArr[i]) {\r\n\t\t\t\t\tchosenVar[source].changesArr[i] += sourceVolume\r\n\t\t\t\t} else {\r\n\t\t\t\t\tchosenVar[source].changesArr[i] = sourceVolume\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tchosenVar[source].currentBalance -= sourceVolume\r\n\t\t\tif (source != 'revenue') {\r\n\t\t\t\tdocument.getElementById(source + 'Chart').value = String(chosenVar[source].currentBalance).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\talert('Введённая сумма превышает остаток данного источника.')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t} else {\r\n\t\talert('Указанная дата не входит в период строительства.')\r\n\t\treturn\r\n\t}\r\n}\r\n\r\n\r\n//Создание периода строительства на основе указанных дат\r\nfunction setBuildingPeriod(startMonth, startYear, endMonth, endYear) {\r\n\tlet periodsArray = []\r\n\tconst defaultMonthsArray = [\"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Май\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Октябрь\", \"Ноябрь\", \"Декабрь\"]\r\n\tif (endYear < startYear) {\r\n\t\talert('Введите корректную дату.')\r\n\t\treturn false\r\n\t}\r\n\t//Считает месяцы из стартового года периода строительства\r\n\tfunction countStartPeriod(startMonth, startYear) {\r\n\t\tfor (let i = startMonth; i < defaultMonthsArray.length; i++) {\r\n\t\t\tperiodsArray.push(defaultMonthsArray[i] + \" \" + startYear)\r\n\t\t}\r\n\t}\r\n\t//Считает месяцы всех лет периода строительства, не включая стартовый и последний годы\r\n\tfunction countMiddlePeriod(oneYearAfterStart, lastYear) {\r\n\t\twhile (oneYearAfterStart < lastYear) {\r\n\t\t\tfor (let i = 0; i < defaultMonthsArray.length; i++) {\r\n\t\t\t\tperiodsArray.push(defaultMonthsArray[i] + \" \" + oneYearAfterStart)\r\n\t\t\t}\r\n\t\t\toneYearAfterStart++\r\n\t\t}\r\n\t}\r\n\t//Считает месяцы из последнего года периода строительства\r\n\tfunction countLastPeriod(lastMonth, lastYear) {\r\n\t\tfor (let i = 0; i < lastMonth + 1; i++) {\r\n\t\t\tperiodsArray.push(defaultMonthsArray[i] + \" \" + lastYear)\r\n\t\t}\r\n\t}\r\n\tif (startYear == endYear) {\r\n\t\tfor (let i = startMonth; i < (endMonth + 1); i++) {\r\n\t\t\tperiodsArray.push(defaultMonthsArray[i] + \" \" + startYear)\r\n\t\t}\r\n\t\treturn periodsArray\r\n\t}\r\n\r\n\tcountStartPeriod(startMonth, startYear)\r\n\tif (endYear - startYear == 1) {\r\n\t\tcountLastPeriod(endMonth, endYear)\r\n\t} else if ((endYear - startYear > 1)) {\r\n\t\tcountMiddlePeriod(startYear + 1, endYear)\r\n\t\tcountLastPeriod(endMonth, endYear)\r\n\t}\r\n\treturn periodsArray\r\n}\r\n\r\n\r\n//Создание периода продаж выбранного объекта(период строительства + заданный срок после)\r\nfunction setRepaymentPeriod(objectPeriodsArray, endMonth, endYear) {\r\n\tconst defaultMonthsArray = [\"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Май\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Октябрь\", \"Ноябрь\", \"Декабрь\"]\r\n\tlet repaymentPeriodsArray = objectPeriodsArray.slice()\r\n\tlet startPoint = endMonth + 1\r\n\tlet endPoint = endMonth + 7\r\n\tlet halfYear = 6\r\n\tif (endMonth <= 5) {\r\n\t\tfor (let i = startPoint; i < endPoint; i++) {\r\n\t\t\trepaymentPeriodsArray.push(defaultMonthsArray[i] + \" \" + endYear)\r\n\t\t}\r\n\t} else {\r\n\t\tfor (let i = startPoint; i < 12; i++) {\r\n\t\t\trepaymentPeriodsArray.push(defaultMonthsArray[i] + \" \" + endYear)\r\n\t\t\thalfYear--\r\n\t\t}\r\n\t\tfor (let i = 0; i < halfYear; i++) {\r\n\t\t\trepaymentPeriodsArray.push(defaultMonthsArray[i] + \" \" + (endYear + 1))\r\n\t\t}\r\n\t}\r\n\treturn repaymentPeriodsArray\r\n}\r\n\r\n\r\n//Подсчёт текущих общих затрат\r\nfunction countCurrentWastedSum(chosenVar) {\r\n\r\n\tfunction checkItem(item) {\r\n\t\tlet num = 0\r\n\t\tif (item >= 0) {\r\n\t\t\tnum = item\r\n\t\t\treturn num\r\n\t\t}\r\n\t\treturn num\r\n\t}\r\n\tfor (let i = 0; i < chosenVar.periods.length; i++) {\r\n\t\tchosenVar.currentDepositedSumChangesArr[i] = 0\r\n\t\tchosenVar.currentDepositedSumChangesArr[i] += checkItem(chosenVar.ownCash.changesArr[i]) + checkItem(chosenVar.bankCredit.changesArr[i]) + checkItem(chosenVar.escrowResource.changesArr[i]) + checkItem(chosenVar.investorA.changesArr[i]) + checkItem(chosenVar.investorB.changesArr[i])\r\n\t}\r\n}\r\n\r\n\r\n//Сохранение выбранного варианта финансирования после внесённых изменений\r\nfunction saveChangesInChosenVar(chosenVar) {\r\n\tlocalStorage.setItem(chosenVar.key, JSON.stringify(chosenVar))\r\n}\r\n\r\n\r\n//После задания периода строительства забивает объём общего финансирования в график\r\nfunction createTotalValueLine(chosenVar) {\r\n\tchosenVar.totalValue.changesArr.length = 0\r\n\tfor (let i = 0; i < chosenVar.periods.length; i++) {\r\n\t\tchosenVar.totalValue.changesArr.push(chosenVar.totalValue.defaultBalance)\r\n\t}\r\n}\r\n\r\n\r\n//Удаление варианта из базы\r\nfunction deleteVariant(chosenVar) {\r\n\talert('Вариант удалён.')\r\n\tdelete(localStorage[chosenVar.key])\r\n\twindow.location.reload()\r\n\r\n}\r\n\n\n//# sourceURL=webpack:///./src/modules/chartPage/chartOptions.js?");

/***/ }),

/***/ "./src/modules/chartPage/chartPage2.1.js":
/*!***********************************************!*\
  !*** ./src/modules/chartPage/chartPage2.1.js ***!
  \***********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _variantsLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./variantsLoader */ \"./src/modules/chartPage/variantsLoader.js\");\n/* harmony import */ var _chartOptions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chartOptions */ \"./src/modules/chartPage/chartOptions.js\");\n/* harmony import */ var _chooseVariant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chooseVariant */ \"./src/modules/chartPage/chooseVariant.js\");\n/* harmony import */ var _charts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./charts */ \"./src/modules/chartPage/charts.js\");\n\r\n/*\r\nloadVariants(){return variantsArray}\r\nshowLoadedVariants(loadedVariantsArray, $select) {return loadedVariantsArray}\r\nclearSelect($select)*/\r\n\r\n\r\n/*showOptions(chosenVar)\r\naddCashToChart(chosenVar, source, volume, month, year, operation, periodsArr)\r\nfunction setBuildingPeriod(startMonth, startYear, endMonth, endYear) {return periodsArray}\r\nfunction setRepaymentPeriod(objectPeriodsArray, endMonth, endYear) {return repaymentPeriodsArray}\r\nfunction countCurrentWastedSum(chosenVar)\r\nfunction saveChangesInChosenVar(chosenVar)*/\r\n\r\n\r\n\r\n/*chooseVariant($select, loadedVariantsArray) {return chosenVar}*/\r\n\r\n\r\n\r\n\r\n\r\n(function () {\r\n\t//Ссылка на страницу с графиками\r\n\tconst chartPageLink = document.getElementById('chartPageLink')\r\n\t\r\n\t//Список выбора варианта финансирования для дальнейших с ним действий\r\n\tconst chartPageSelect = document.getElementById('chartPageSelect')\r\n\tconst chartWrapper = document.getElementById('chartWrapper')\r\n\tconst deleteVariantButton = document.getElementById('deleteVariant')\r\n\tconst setBuildingPeriodButton = document.getElementById('setBuildingPeriodButton')\r\n\tconst enterCashButton = document.getElementById('enterCashButton')\r\n\tconst removeCashButton = document.getElementById('removeCashButton')\r\n\tconst tab = document.getElementById('chartPageTable')\r\n\t\r\n\tconst revenueChartWrapper = document.getElementById('revenueChartWrapper')\r\n\tconst enterRevenueCashButton = document.getElementById('enterRevenueCashButton')\r\n\tconst removeRevenueCashButton = document.getElementById('removeRevenueCashButton')\r\n\t\r\n\tconst costsAndRevenueChartWrapper = document.getElementById('costsAndRevenueChartWrapper')\r\n\tlet loadedVariantsArray;\r\n\tlet chosenVar = false\r\n\r\n\r\n\twindow.addEventListener('load', () => {\r\n\t\tObject(_variantsLoader__WEBPACK_IMPORTED_MODULE_0__[\"clearSelect\"])(chartPageSelect)\r\n\t\tloadedVariantsArray = Object(_variantsLoader__WEBPACK_IMPORTED_MODULE_0__[\"loadVariants\"])()\r\n\t\tloadedVariantsArray = Object(_variantsLoader__WEBPACK_IMPORTED_MODULE_0__[\"showLoadedVariants\"])(loadedVariantsArray, chartPageSelect)\r\n\t\tif (!chosenVar) {\r\n\t\t\tchosenVar = Object(_chooseVariant__WEBPACK_IMPORTED_MODULE_2__[\"chooseVariant\"])(chartPageSelect, loadedVariantsArray)\r\n\t\t}\r\n\t})\r\n\r\n\r\n\tchartPageLink.addEventListener('click', () => {\r\n\t\tObject(_variantsLoader__WEBPACK_IMPORTED_MODULE_0__[\"clearSelect\"])(chartPageSelect)\r\n\t\tloadedVariantsArray = Object(_variantsLoader__WEBPACK_IMPORTED_MODULE_0__[\"loadVariants\"])()\r\n\t\tloadedVariantsArray = Object(_variantsLoader__WEBPACK_IMPORTED_MODULE_0__[\"showLoadedVariants\"])(loadedVariantsArray, chartPageSelect)\r\n\t\tif (!chosenVar) {\r\n\t\t\tchosenVar = Object(_chooseVariant__WEBPACK_IMPORTED_MODULE_2__[\"chooseVariant\"])(chartPageSelect, loadedVariantsArray)\r\n\t\t}\r\n\t})\r\n\r\n\r\n\tchartPageSelect.addEventListener('change', () => {\r\n\t\tchosenVar = Object(_chooseVariant__WEBPACK_IMPORTED_MODULE_2__[\"chooseVariant\"])(chartPageSelect, loadedVariantsArray)\r\n\t\tcleanTab(tab)\r\n\t\tif (chosenVar.chart == true) {\r\n\t\t\tObject(_charts__WEBPACK_IMPORTED_MODULE_3__[\"createChart\"])(chosenVar)\r\n\t\t\tObject(_charts__WEBPACK_IMPORTED_MODULE_3__[\"createRevenueChart\"])(chosenVar)\r\n\t\t\tcleanTab(tab)\r\n\t\t\tObject(_charts__WEBPACK_IMPORTED_MODULE_3__[\"calculateValuesForCostsChart\"])(chosenVar)\r\n\t\t\tObject(_charts__WEBPACK_IMPORTED_MODULE_3__[\"createCostsChart\"])(chosenVar)\r\n\t\t\t//resetChosenVarValues(chosenVar)\r\n\t\t} else {\r\n\t\t\tObject(_charts__WEBPACK_IMPORTED_MODULE_3__[\"removeChart\"])(chartWrapper)\r\n\t\t\tObject(_charts__WEBPACK_IMPORTED_MODULE_3__[\"removeChart\"])(revenueChartWrapper)\r\n\t\t}\r\n\t})\r\n\r\n\r\n\tdeleteVariantButton.addEventListener('click', () => {\r\n\t\tObject(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"deleteVariant\"])(chosenVar)\r\n\t})\r\n\r\n\r\n\tsetBuildingPeriodButton.addEventListener('click', () => {\r\n\t\tlet startMonth = +(document.getElementById('StartOfPeriodMonth').value);\r\n\t\tlet startYear = +(document.getElementById('StartOfPeriodYear').value);\r\n\t\tlet endMonth = +(document.getElementById('EndOfPeriodMonth').value);\r\n\t\tlet endYear = +(document.getElementById('EndOfPeriodYear').value);\r\n\t\tchosenVar.firstMonth = startMonth;\r\n\t\tchosenVar.firstYear = startYear;\r\n\t\tchosenVar.lastMonth = endMonth;\r\n\t\tchosenVar.lastYear = endYear;\r\n\t\tchosenVar.periods = Object(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"setBuildingPeriod\"])(startMonth, startYear, endMonth, endYear);\r\n\t\tchosenVar.repaymentPeriods = Object(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"setRepaymentPeriod\"])(chosenVar.periods, endMonth, endYear);\r\n\r\n\t\tif (chosenVar.periods.length > 0) {\r\n\t\t\tObject(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"createTotalValueLine\"])(chosenVar)\r\n\t\t\tObject(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"showOptions\"])(chosenVar)\r\n\t\t\tObject(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"saveChangesInChosenVar\"])(chosenVar)\r\n\t\t\tObject(_charts__WEBPACK_IMPORTED_MODULE_3__[\"createChart\"])(chosenVar)\r\n\t\t\tObject(_charts__WEBPACK_IMPORTED_MODULE_3__[\"createRevenueChart\"])(chosenVar)\r\n\t\t}\r\n\t})\r\n\r\n\r\n\tenterCashButton.addEventListener('click', () => {\r\n\t\tObject(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"addCashToChart\"])(chosenVar, document.getElementById('sourceOfIncome').value, document.getElementById('sumOfIncome').value, document.getElementById('monthOfIncome').value, document.getElementById('yearOfIncome').value, '+', chosenVar.periods)\r\n\t\tObject(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"countCurrentWastedSum\"])(chosenVar)\r\n\t\tObject(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"saveChangesInChosenVar\"])(chosenVar)\r\n\t\tObject(_charts__WEBPACK_IMPORTED_MODULE_3__[\"createChart\"])(chosenVar)\r\n\t})\r\n\r\n\r\n\tremoveCashButton.addEventListener('click', () => {\r\n\t\tObject(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"addCashToChart\"])(chosenVar, document.getElementById('sourceOfIncome').value, document.getElementById('sumOfIncome').value, document.getElementById('monthOfIncome').value, document.getElementById('yearOfIncome').value, '-', chosenVar.periods)\r\n\t\tObject(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"countCurrentWastedSum\"])(chosenVar)\r\n\t\tObject(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"saveChangesInChosenVar\"])(chosenVar)\r\n\t\tObject(_charts__WEBPACK_IMPORTED_MODULE_3__[\"createChart\"])(chosenVar)\r\n\t})\r\n\t\r\n\t\r\n\tenterRevenueCashButton.addEventListener('click',() =>{\r\n\t\tObject(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"addCashToChart\"])(chosenVar, 'revenue', document.getElementById('sumOfRevenue').value, document.getElementById('monthOfRevenue').value, document.getElementById('yearOfRevenue').value, '+', chosenVar.repaymentPeriods)\r\n\t\tObject(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"saveChangesInChosenVar\"])(chosenVar)\r\n\t\tObject(_charts__WEBPACK_IMPORTED_MODULE_3__[\"createRevenueChart\"])(chosenVar)\r\n\t})\r\n\t\r\n\t\r\n\tremoveRevenueCashButton.addEventListener('click',() =>{\r\n\t\tObject(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"addCashToChart\"])(chosenVar, 'revenue', document.getElementById('sumOfRevenue').value, document.getElementById('monthOfRevenue').value, document.getElementById('yearOfRevenue').value, '-', chosenVar.repaymentPeriods)\r\n\t\tObject(_chartOptions__WEBPACK_IMPORTED_MODULE_1__[\"saveChangesInChosenVar\"])(chosenVar)\r\n\t\tObject(_charts__WEBPACK_IMPORTED_MODULE_3__[\"createRevenueChart\"])(chosenVar)\r\n\t})\r\n\r\n\r\n\tdocument.getElementById('CountPercentPayments').addEventListener('click', () => {\r\n\t\tchosenVar.bankCredit.interestRate = +(document.getElementById('bankInstallment').value)\r\n\t\tchosenVar.escrowResource.interestRate = +(document.getElementById('escrowInstallment').value)\r\n\t\tchosenVar.investorA.interestRate = +(document.getElementById('investorAInstallment').value)\r\n\t\tchosenVar.investorB.interestRate = +(document.getElementById('investorBInstallment').value)\r\n\t\t//Итоговая сумма платежей по процентам банк.кредита\r\n\t\tlet bankInstallmentTotal = 0\r\n\t\t//Итоговая сумма платежей по процентам эскроу ресурса\r\n\t\tlet escrowInstalmentTotal = 0\r\n\t\t//Итоговая сумма платежей по процентам инвестор А\r\n\t\tlet investorAInstallmentTotal = 0\r\n\t\t//Итоговая сумма платежей по процентам инвестор В\r\n\t\tlet investorBInstallmentTotal = 0\r\n\t\tlocalStorage.setItem(chosenVar.key, JSON.stringify(chosenVar))\r\n\t\tcleanTab(tab)\r\n\t\t$('#chartPageTable').hide().fadeIn(500);\r\n\t\tfor (let i = 0; i < chosenVar.periods.length; i++) {\r\n\t\t\tbankInstallmentTotal = countTotalPayment(chosenVar.bankCredit.changesArr[i], chosenVar.bankCredit.interestRate, bankInstallmentTotal)\r\n\t\t\tescrowInstalmentTotal = countTotalPayment(chosenVar.escrowResource.changesArr[i], chosenVar.escrowResource.interestRate, escrowInstalmentTotal)\r\n\t\t\tinvestorAInstallmentTotal = countTotalPayment(chosenVar.investorA.changesArr[i], chosenVar.investorA.interestRate, investorAInstallmentTotal)\r\n\t\t\tinvestorBInstallmentTotal = countTotalPayment(chosenVar.investorB.changesArr[i], chosenVar.investorB.interestRate, investorBInstallmentTotal)\r\n\t\t\tlet $el = `<tr>\r\n\t\t\t\t\t\t<td class=\"monthTd\">${chosenVar.periods[i]}</td>\r\n\t\t\t\t\t\t<td class=\"bankTd\">${checkPercentPayment(chosenVar.bankCredit.changesArr[i], chosenVar.bankCredit.interestRate)}</td>\r\n\t\t\t\t\t\t<td class=\"escrowTd\">${checkPercentPayment(chosenVar.escrowResource.changesArr[i], chosenVar.escrowResource.interestRate)}</td>\r\n\t\t\t\t\t\t<td class=\"investorATd\">${checkPercentPayment(chosenVar.investorA.changesArr[i], chosenVar.investorA.interestRate)}</td>\r\n\t\t\t\t\t\t<td class=\"investorBTd\">${checkPercentPayment(chosenVar.investorB.changesArr[i], chosenVar.investorB.interestRate)}</td>\r\n\t\t\t\t\t\t<td>${(sumMonthlyPayments(chosenVar.bankCredit.changesArr[i], chosenVar.bankCredit.interestRate) + sumMonthlyPayments(chosenVar.escrowResource.changesArr[i], chosenVar.escrowResource.interestRate) + sumMonthlyPayments(chosenVar.investorA.changesArr[i], chosenVar.investorA.interestRate) + sumMonthlyPayments(chosenVar.investorB.changesArr[i], chosenVar.investorB.interestRate)).toFixed(0).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')}</td>\r\n\t\t\t\t</tr>`\r\n\t\t\ttab.insertAdjacentHTML('beforeend', $el)\r\n\t\t}\r\n\t\tlet $totalEl = `<tr>\r\n\t\t\t\t\t\t<td>Итого по отдельным источникам:</td>\r\n\t\t\t\t\t\t<td class=\"bankTd\">${(bankInstallmentTotal.toFixed(0)).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')}</td>\r\n\t\t\t\t\t\t<td class=\"escrowTd\">${(escrowInstalmentTotal.toFixed(0)).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')}</td>\r\n\t\t\t\t\t\t<td class=\"investorATd\">${(investorAInstallmentTotal.toFixed(0)).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')}</td>\r\n\t\t\t\t\t\t<td class=\"investorBTd\">${(investorBInstallmentTotal.toFixed(0)).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t<th class=\"totalTh\">Итого по всем источникам:</th>\r\n\t\t\t\t\t\t<th>${(bankInstallmentTotal + escrowInstalmentTotal + investorAInstallmentTotal + investorBInstallmentTotal).toFixed(0).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')}</th>\r\n\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t</tr>`\r\n\t\ttab.insertAdjacentHTML('beforeend', $totalEl)\r\n\t})\r\n\r\n\r\n\tfunction cleanTab(tab) {\r\n\t\ttab.innerHTML = \"\"\r\n\t\tlet $defaultTabContent = `\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Источник:</th>\r\n\t\t\t\t\t\t\t<th class=\"bankTd\">Кредит банка под залог</th>\r\n\t\t\t\t\t\t\t<th class=\"escrowTd\">Кредит банка / эксроу ресурс</th>\r\n\t\t\t\t\t\t\t<th class=\"investorATd\">Инвестор категории \"А\"</th>\r\n\t\t\t\t\t\t\t<th class=\"investorBTd\">Инвестор категории \"В\"</th>\r\n\t\t\t\t\t\t\t<th>Сумма ежемесячных выплат по %</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Ставка, %:</th>\r\n\t\t\t\t\t\t\t<th class=\"bankTd\"><input type=\"text\" class=\"input_wrapper__input add_cash__input table_input\" id=\"bankInstallment\" maxlength=\"4\" value=\"${chosenVar.bankCredit.interestRate}\"></th>\r\n\t\t\t\t\t\t\t<th class=\"escrowTd\"><input type=\"text\" class=\"input_wrapper__input add_cash__input table_input\" id=\"escrowInstallment\" maxlength=\"4\" value=\"${chosenVar.escrowResource.interestRate}\"></th>\r\n\t\t\t\t\t\t\t<th class=\"investorATd\"><input type=\"text\" class=\"input_wrapper__input add_cash__input table_input\" id=\"investorAInstallment\" maxlength=\"4\" value=\"${chosenVar.investorA.interestRate}\"></th>\r\n\t\t\t\t\t\t\t<th class=\"investorBTd\"><input type=\"text\" class=\"input_wrapper__input add_cash__input table_input\" id=\"investorBInstallment\" maxlength=\"4\" value=\"${chosenVar.investorB.interestRate}\"></th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Месяц</th>\r\n\t\t\t\t\t\t</tr>`\r\n\t\ttab.insertAdjacentHTML('afterbegin', $defaultTabContent)\r\n\t}\r\n\r\n\tfunction checkPercentPayment(item, interestRate) {\r\n\t\tif (item > 0 && interestRate > 0) {\r\n\t\t\tlet periodPayment = ((item / 100) * (interestRate / 12)).toFixed(0)\r\n\t\t\treturn periodPayment.replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n\r\n\r\n\tfunction sumMonthlyPayments(item, interestRate) {\r\n\t\tif (item > 0 && interestRate > 0) {\r\n\t\t\tlet periodPayment = (item / 100) * (interestRate / 12)\r\n\t\t\treturn periodPayment\r\n\t\t}\r\n\t\treturn 0\r\n\r\n\t}\r\n\r\n\r\n\tfunction countTotalPayment(item, interestRate, total) {\r\n\t\tlet periodPayment;\r\n\t\tif (item >= 0 && interestRate > 0) {\r\n\t\t\tperiodPayment = (item / 100) * (interestRate / 12)\r\n\t\t\ttotal += periodPayment\r\n\t\t\treturn total\r\n\t\t} else {\r\n\t\t\tperiodPayment = 0\r\n\t\t\ttotal += periodPayment\r\n\t\t}\r\n\t\treturn 0\r\n\t}\r\n}())\r\n\n\n//# sourceURL=webpack:///./src/modules/chartPage/chartPage2.1.js?");

/***/ }),

/***/ "./src/modules/chartPage/charts.js":
/*!*****************************************!*\
  !*** ./src/modules/chartPage/charts.js ***!
  \*****************************************/
/*! exports provided: createRevenueChart, createChart, createCostsChart, resetChosenVarValues, calculateValuesForCostsChart, removeChart */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createRevenueChart\", function() { return createRevenueChart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createChart\", function() { return createChart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createCostsChart\", function() { return createCostsChart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetChosenVarValues\", function() { return resetChosenVarValues; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateValuesForCostsChart\", function() { return calculateValuesForCostsChart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeChart\", function() { return removeChart; });\nfunction createRevenueChart(chosenVar) {\r\n\tremoveChart(revenueChartWrapper)\r\n\trevenueChartWrapper.innerHTML = '<canvas id=\"chartPageRevenueChart\"></canvas>'\r\n\tlet chartPageRevenueChart = document.getElementById('chartPageRevenueChart')\r\n\tlet steppedChart = new Chart(chartPageRevenueChart, {\r\n\t\ttype: 'line',\r\n\t\tdata: {\r\n\t\t\tlabels: chosenVar.repaymentPeriods,\r\n\t\t\tdatasets: [{\r\n\t\t\t\t\tlabel: 'Текущий объём выручки (план)',\r\n\t\t\t\t\tfill: false,\r\n\t\t\t\t\tlineTension: 0,\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tbackgroundColor: 'rgba(99, 99, 199, .2)',\r\n\t\t\t\t\tborderColor: 'rgb(99, 199, 99)',\r\n\t\t\t\t\tdata: chosenVar.revenue.changesArr\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t},\r\n\t\toptions: {\r\n\t\t\telements: {\r\n\t\t\t\tpoint: {\r\n\t\t\t\t\tradius: 3\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscales: {\r\n\t\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}]\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\tlocalStorage.setItem(chosenVar.key, JSON.stringify(chosenVar))\r\n}\r\n\r\n\r\nfunction createChart(chosenVar) {\r\n\tremoveChart(chartWrapper)\r\n\tchartWrapper.innerHTML = '<canvas id=\"chartPageChart\"></canvas>'\r\n\tlet chartPageChart = document.getElementById('chartPageChart')\r\n\tlet steppedChart = new Chart(chartPageChart, {\r\n\t\ttype: 'line',\r\n\t\tdata: {\r\n\t\t\tlabels: chosenVar.periods,\r\n\t\t\tdatasets: [{\r\n\t\t\t\t\tlabel: 'Общий объём финансирования (план)',\r\n\t\t\t\t\tfill: false,\r\n\t\t\t\t\tlineTension: 0,\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, .2)',\r\n\t\t\t\t\tborderColor: 'rgb(255, 99, 132)',\r\n\t\t\t\t\tdata: chosenVar.totalValue.changesArr\r\n\t\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Текущий объём затрат',\r\n\t\t\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\tlineTension: 0,\r\n\t\t\t\t\tfill: false,\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tborderColor: 'rgb(0, 0, 0)',\r\n\t\t\t\t\tdata: chosenVar.currentDepositedSumChangesArr\r\n\t\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Собственные средства',\r\n\t\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.1)',\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tborderColor: 'rgb(255, 99, 132)',\r\n\t\t\t\t\tdata: chosenVar.ownCash.changesArr\r\n\t\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Кредит банка под залог',\r\n\t\t\t\t\tbackgroundColor: 'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tborderColor: 'rgb(54, 162, 235)',\r\n\t\t\t\t\tdata: chosenVar.bankCredit.changesArr\r\n\t\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Кредит банка / эскроу ресурс',\r\n\t\t\t\t\tbackgroundColor: 'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tborderColor: 'rgb(255, 206, 86)',\r\n\t\t\t\t\tdata: chosenVar.escrowResource.changesArr\r\n\t\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Инвестор категории \"А\"',\r\n\t\t\t\t\tbackgroundColor: 'rgba(125, 192, 192, 0.2)',\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tborderColor: 'rgb(125, 192, 192)',\r\n\t\t\t\t\tdata: chosenVar.investorA.changesArr\r\n\t\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Инвестор категории \"B\"',\r\n\t\t\t\t\tbackgroundColor: 'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tborderColor: 'rgb(153, 102, 255)',\r\n\t\t\t\t\tdata: chosenVar.investorB.changesArr\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t},\r\n\t\toptions: {\r\n\t\t\telements: {\r\n\t\t\t\tpoint: {\r\n\t\t\t\t\tradius: 3\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscales: {\r\n\t\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}]\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\tchosenVar.chart = true\r\n\tlocalStorage.setItem(chosenVar.key, JSON.stringify(chosenVar))\r\n}\r\n\r\n\r\nfunction createCostsChart(chosenVar) {\r\n\tremoveChart(costsAndRevenueChartWrapper)\r\n\tcostsAndRevenueChartWrapper.innerHTML = '<canvas id=\"chartPageCostsChart\"></canvas>'\r\n\tlet chartPageCostsChart = document.getElementById('chartPageCostsChart')\r\n\tlet steppedChart = new Chart(chartPageCostsChart, {\r\n\t\ttype: 'line',\r\n\t\tdata: {\r\n\t\t\tlabels: chosenVar.repaymentPeriods,\r\n\t\t\tdatasets: [{\r\n\t\t\t\t\tlabel: 'Общий объём финансирования (план)',\r\n\t\t\t\t\tfill: false,\r\n\t\t\t\t\tlineTension: 0,\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, .2)',\r\n\t\t\t\t\tborderColor: 'rgb(255, 99, 132)',\r\n\t\t\t\t\tdata: chosenVar.totalValue.changesArr\r\n\t\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Текущий объём затрат',\r\n\t\t\t\t\tbackgroundColor: 'rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\tlineTension: 0,\r\n\t\t\t\t\tfill: false,\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tborderColor: 'rgb(0, 0, 0)',\r\n\t\t\t\t\tdata: chosenVar.currentDepositedSumChangesArr\r\n\t\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Собственные средства',\r\n\t\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.1)',\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tborderColor: 'rgb(255, 99, 132)',\r\n\t\t\t\t\tdata: chosenVar.ownCash.changesArr\r\n\t\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Кредит банка под залог',\r\n\t\t\t\t\tbackgroundColor: 'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tborderColor: 'rgb(54, 162, 235)',\r\n\t\t\t\t\tdata: chosenVar.bankCredit.changesArr\r\n\t\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Кредит банка / эскроу ресурс',\r\n\t\t\t\t\tbackgroundColor: 'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tborderColor: 'rgb(255, 206, 86)',\r\n\t\t\t\t\tdata: chosenVar.escrowResource.changesArr\r\n\t\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Инвестор категории \"А\"',\r\n\t\t\t\t\tbackgroundColor: 'rgba(125, 192, 192, 0.2)',\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tborderColor: 'rgb(125, 192, 192)',\r\n\t\t\t\t\tdata: chosenVar.investorA.changesArr\r\n\t\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Инвестор категории \"B\"',\r\n\t\t\t\t\tbackgroundColor: 'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tborderColor: 'rgb(153, 102, 255)',\r\n\t\t\t\t\tdata: chosenVar.investorB.changesArr\r\n\t\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Текущий объём выручки (план)',\r\n\t\t\t\t\tfill: false,\r\n\t\t\t\t\tlineTension: 0,\r\n\t\t\t\t\tsteppedLine: true,\r\n\t\t\t\t\tbackgroundColor: 'rgba(99, 99, 199, .2)',\r\n\t\t\t\t\tborderColor: 'rgb(99, 199, 99)',\r\n\t\t\t\t\tdata: chosenVar.revenue.changesArr\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t},\r\n\t\toptions: {\r\n\t\t\telements: {\r\n\t\t\t\tpoint: {\r\n\t\t\t\t\tradius: 3\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscales: {\r\n\t\t\t\tyAxes: [{\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}]\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n}\r\n\r\n\r\nfunction resetChosenVarValues(chosenVar) {\r\n\tlet sourcesArr = [chosenVar.totalValue.changesArr, chosenVar.ownCash.changesArr, chosenVar.bankCredit.changesArr, chosenVar.escrowResource.changesArr, chosenVar.investorA.changesArr, chosenVar.investorB.changesArr, chosenVar.currentDepositedSumChangesArr]\r\n\r\n\tfor (let i = 0; i < sourcesArr.length; i++) {\r\n\t\tsourcesArr[i].length = chosenVar.periods.length\r\n\t\tconsole.log(sourcesArr[i])\r\n\t}\r\n}\r\n\r\n\r\nfunction calculateValuesForCostsChart(chosenVar) {\r\n\tlet sourcesArr = [chosenVar.totalValue.changesArr, chosenVar.ownCash.changesArr, chosenVar.bankCredit.changesArr, chosenVar.escrowResource.changesArr, chosenVar.investorA.changesArr, chosenVar.investorB.changesArr, chosenVar.currentDepositedSumChangesArr];\r\n\t\r\n\tfor (let i = 0; i < sourcesArr.length; i++) {\r\n\t\tfor(let n = chosenVar.periods.length; n < chosenVar.repaymentPeriods.length; n ++) {\r\n\t\t\tsourcesArr[i][n] = sourcesArr[i][chosenVar.periods.length - 1]\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n\r\nfunction removeChart(chartWrap) {\r\n\tchartWrap.innerHTML = \"\"\r\n}\r\n\n\n//# sourceURL=webpack:///./src/modules/chartPage/charts.js?");

/***/ }),

/***/ "./src/modules/chartPage/chooseVariant.js":
/*!************************************************!*\
  !*** ./src/modules/chartPage/chooseVariant.js ***!
  \************************************************/
/*! exports provided: chooseVariant */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"chooseVariant\", function() { return chooseVariant; });\n/* harmony import */ var _chartOptions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chartOptions */ \"./src/modules/chartPage/chartOptions.js\");\n\r\n//Отображение выбранного варианта на странице\r\nfunction chooseVariant($select, loadedVariantsArray) {\r\n\r\n\t//Выбранный вариант финансирования попадёт в эту переменную\r\n\tlet chosenVar;\r\n\t//Элементы p на всех страницах, где отображается название выбранного варианта\r\n\tconst showedChosenVars = document.getElementsByClassName('chosen_var')\r\n\t//Форма на первой странице\r\n\tconst form = document.querySelector('.app__main__form')\r\n\r\n\tif ($select.value * 1 === +($select.value)) {\r\n\t\tlet i = +($select.value)\r\n\t\tchosenVar = loadedVariantsArray[i]\r\n\t\tif (chosenVar) {\r\n\t\t\tObject(_chartOptions__WEBPACK_IMPORTED_MODULE_0__[\"showOptions\"])(chosenVar)\r\n\t\t\tshowedChosenVars[0].textContent = 'Вариант финансирования ' + (i + 1)\r\n\t\t\tshowedChosenVars[1].textContent = 'Вариант финансирования ' + (i + 1)\r\n\r\n\t\t\t//Отображение текущего остатка выбранного варианта на второй странице\r\n\t\t\t$('#totalValueChart').val(String(chosenVar.totalValue.currentBalance).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')).hide().fadeIn(500)\r\n\t\t\t$('#ownCashChart').val(String(chosenVar.ownCash.currentBalance).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')).hide().fadeIn(500)\r\n\t\t\t$('#bankCreditChart').val(String(chosenVar.bankCredit.currentBalance).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')).hide().fadeIn(500)\r\n\t\t\t$('#escrowResourceChart').val(String(chosenVar.escrowResource.currentBalance).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')).hide().fadeIn(500)\r\n\t\t\t$('#investorAChart').val(String(chosenVar.investorA.currentBalance).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')).hide().fadeIn(500)\r\n\t\t\t$('#investorBChart').val(String(chosenVar.investorB.currentBalance).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')).hide().fadeIn(500)\r\n\t\t\t$('#deficiteSumChart').val(String(chosenVar.deficite).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')).hide().fadeIn(500)\r\n\r\n\t\t\t//Отображение значений по умолчанию выбранного варианта на первой странице\r\n\t\t\tform.totalValue.value = String(chosenVar.totalValue.defaultBalance).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')\r\n\t\t\tform.ownCash.value = String(chosenVar.ownCash.defaultBalance).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')\r\n\t\t\tform.bankCredit.value = String(chosenVar.bankCredit.defaultBalance).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')\r\n\t\t\tform.escrowResource.value = String(chosenVar.escrowResource.defaultBalance).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')\r\n\t\t\tform.investorA.value = String(chosenVar.investorA.defaultBalance).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')\r\n\t\t\tform.investorB.value = String(chosenVar.investorB.defaultBalance).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')\r\n\t\t\tform.deficiteSum.value = String(chosenVar.defificte).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')\r\n\t\t} else {\r\n\t\t\tshowedChosenVars[0].textContent = 'Вариант финансирования не выбран '\r\n\t\t\tshowedChosenVars[1].textContent = 'Вариант финансирования не выбран '\r\n\t\t}\r\n\t}\r\n\treturn chosenVar\r\n}\r\n\n\n//# sourceURL=webpack:///./src/modules/chartPage/chooseVariant.js?");

/***/ }),

/***/ "./src/modules/chartPage/variantsLoader.js":
/*!*************************************************!*\
  !*** ./src/modules/chartPage/variantsLoader.js ***!
  \*************************************************/
/*! exports provided: loadVariants, showLoadedVariants, clearSelect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadVariants\", function() { return loadVariants; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"showLoadedVariants\", function() { return showLoadedVariants; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearSelect\", function() { return clearSelect; });\n//Загрузка вариантов финансирования из хранилища\r\nfunction loadVariants() {\r\n\tlet variantsArray = []\r\n\tif (localStorage.length > 0) {\r\n\t\tlet keysArray = Object.keys(localStorage)\r\n\t\tfor (let i = 0; i < keysArray.length; i++) {\r\n\t\t\tif (keysArray[i].indexOf('variant') > -1) {\r\n\t\t\t\tvariantsArray.push(JSON.parse(localStorage.getItem(keysArray[i])))\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn variantsArray\r\n}\r\n\r\n\r\n//Добавление названий загруженных вариантов в select\r\nfunction showLoadedVariants(loadedVariantsArray, $select) {\r\n\tlet option;\r\n\r\n\tif (loadedVariantsArray.length > 0) {\r\n\t\toption = document.createElement('option')\r\n\t\toption.value = null\r\n\t\toption.textContent = \"Выберите вариант финансирования\"\r\n\t\t$select.appendChild(option)\r\n\t\tloadedVariantsArray.sort((a, b) => {\r\n\t\t\treturn (+(a.key.slice(7))) - (+(b.key.slice(7)))\r\n\t\t})\r\n\t\tfor (let i = 0; i < loadedVariantsArray.length; i++) {\r\n\t\t\toption = document.createElement('option')\r\n\t\t\toption.value = i\r\n\t\t\toption.textContent = \"Вариант финансирования \" + (i + 1)\r\n\t\t\t$select.appendChild(option)\r\n\t\t}\r\n\r\n\t} else {\r\n\t\toption = document.createElement('option')\r\n\t\toption.textContent = \"В базе данных отсутствуют сохранённые объекты.\"\r\n\t\t$select.appendChild(option)\r\n\t}\r\n\treturn loadedVariantsArray\r\n}\r\n\r\n\r\n//Очистка select с названиями вариантов финансирования\r\nfunction clearSelect($select) {\r\n\t$select.innerHTML = \"\"\r\n}\r\n\n\n//# sourceURL=webpack:///./src/modules/chartPage/variantsLoader.js?");

/***/ }),

/***/ "./src/modules/commonFiles/Classes.js":
/*!********************************************!*\
  !*** ./src/modules/commonFiles/Classes.js ***!
  \********************************************/
/*! exports provided: ObjectOfBuilding, VariantOfFinancing */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObjectOfBuilding\", function() { return ObjectOfBuilding; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VariantOfFinancing\", function() { return VariantOfFinancing; });\nclass ObjectOfBuilding {\r\n\tconstructor() {\r\n\t\tthis.name = name,\r\n\t\t\tthis.estimate = {\r\n\t\t\t\townCost: '',\r\n\t\t\t\tm2OwnCost: '',\r\n\t\t\t\trevenueExcludingFinRes: '',\r\n\t\t\t\trevenueIncludingFinRes: ''\r\n\t\t\t},\r\n\t\t\tthis.estate = {\r\n\t\t\t\ttotalSquare: '',\r\n\t\t\t\tflats: {\r\n\t\t\t\t\tflatsSquare: '',\r\n\t\t\t\t\tflatsPlannedMarkup: '',\r\n\t\t\t\t\tflatsPrice: '',\r\n\t\t\t\t},\r\n\t\t\t\toffices: {\r\n\t\t\t\t\tofficesSquare: '',\r\n\t\t\t\t\tPlannedMarkup: '',\r\n\t\t\t\t\tPrice: '',\r\n\t\t\t\t},\r\n\t\t\t\ttradeArea: {\r\n\t\t\t\t\ttradeSquare: '',\r\n\t\t\t\t\tPlannedMarkup: '',\r\n\t\t\t\t\tPrice: '',\r\n\t\t\t\t},\r\n\t\t\t\tstorages: {\r\n\t\t\t\t\tstoragesSquare: '',\r\n\t\t\t\t\tPlannedMarkup: '',\r\n\t\t\t\t\tPrice: '',\r\n\t\t\t\t},\r\n\t\t\t\tparking: {\r\n\t\t\t\t\tparkingSquare: '',\r\n\t\t\t\t\tPlannedMarkup: '',\r\n\t\t\t\t\tPrice: '',\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tthis.variantsOfFinancing = [],\r\n\t\t\tthis.key = 'objectOfBuilding' + Math.random()\r\n\t}\r\n}\r\n\r\n\r\nclass VariantOfFinancing {\r\n\tconstructor(totalValue, ownCash, bankCredit, escrowResource, investorA, investorB, deficite, key) {\r\n\t\tthis.totalValue = {\r\n\t\t\t\tcurrentBalance: totalValue,\r\n\t\t\t\tdefaultBalance: totalValue,\r\n\t\t\t\tchangesArr: []\r\n\t\t\t},\r\n\t\t\tthis.ownCash = {\r\n\t\t\t\tcurrentBalance: ownCash,\r\n\t\t\t\tdefaultBalance: ownCash,\r\n\t\t\t\tchangesArr: [],\r\n\t\t\t\tcurrentSpended: 0\r\n\t\t\t},\r\n\t\t\tthis.bankCredit = {\r\n\t\t\t\tcurrentBalance: bankCredit,\r\n\t\t\t\tdefaultBalance: bankCredit,\r\n\t\t\t\tchangesArr: [],\r\n\t\t\t\tcurrentSpended: 0,\r\n\t\t\t\tinterestRate: ''\r\n\t\t\t},\r\n\t\t\tthis.escrowResource = {\r\n\t\t\t\tcurrentBalance: escrowResource,\r\n\t\t\t\tdefaultBalance: escrowResource,\r\n\t\t\t\tchangesArr: [],\r\n\t\t\t\tcurrentSpended: 0,\r\n\t\t\t\tinterestRate: ''\r\n\t\t\t},\r\n\t\t\tthis.investorA = {\r\n\t\t\t\tcurrentBalance: investorA,\r\n\t\t\t\tdefaultBalance: investorA,\r\n\t\t\t\tchangesArr: [],\r\n\t\t\t\tcurrentSpended: 0,\r\n\t\t\t\tinterestRate: ''\r\n\t\t\t},\r\n\t\t\tthis.investorB = {\r\n\t\t\t\tcurrentBalance: investorB,\r\n\t\t\t\tdefaultBalance: investorB,\r\n\t\t\t\tchangesArr: [],\r\n\t\t\t\tcurrentSpended: 0,\r\n\t\t\t\tinterestRate: ''\r\n\t\t\t},\r\n\t\t\tthis.costs = {\r\n\t\t\t\testimate: '',\r\n\t\t\t\tvat: '',\r\n\t\t\t\tmarketingCosts: '',\r\n\t\t\t\tinflation: ''\r\n\t\t\t},\r\n\t\t\tthis.revenue = {\r\n\t\t\t\tcurrentBalance: totalValue * 1.30,\r\n\t\t\t\tdefaultBalance: totalValue * 1.30,\r\n\t\t\t\tchangesArr: [],\r\n\t\t\t\tcurrentSpended: 0\r\n\t\t\t},\r\n\t\t\tthis.currentDepositedSumChangesArr = [],\r\n\t\t\tthis.deficite = deficite,\r\n\t\t\tthis.key = key,\r\n\t\t\tthis.chart = false,\r\n\t\t\tthis.periods = [],\r\n\t\t\tthis.repaymentPeriods = []\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack:///./src/modules/commonFiles/Classes.js?");

/***/ }),

/***/ "./src/modules/commonFiles/commonLogic.js":
/*!************************************************!*\
  !*** ./src/modules/commonFiles/commonLogic.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("//Запрет ввода любых символов, кроме цифр, точек и запятых\r\n$('.number_input').on('keypress', function (e) {\r\n\tif (e.which != 8 && e.which != 0 && e.which != 46 && (e.which < 48 || e.which > 57)) {\r\n\t\treturn false\r\n\t}\r\n});\r\n\r\n//Авторазбивка введённых чисел по числу нулей\r\n$('.number_input').on('input', function (e) {\r\n\tlet $sum = $(this).val().replace(/ /g, '')\r\n\t$sum = $sum.replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')\r\n\t$(this).val($sum)\r\n\r\n});\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/modules/commonFiles/commonLogic.js?");

/***/ }),

/***/ "./src/modules/commonFiles/pageRenders.js":
/*!************************************************!*\
  !*** ./src/modules/commonFiles/pageRenders.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("const appHeader = document.getElementById('app__header')\r\nconst appMain = document.querySelector('.app__main')\r\nconst appH1 = document.getElementById('app__h1')\r\n//Страница объём финансирования\r\nconst volumePage = document.getElementById('volumePage')\r\n//Ссылка на страницу объёма финансирования\r\nconst volumePageLink = document.getElementById('volumePageLink')\r\n//Страница график финансирования\r\nconst chartPage = document.getElementById('chartPage')\r\n//Ссылка на страницу график финансирования\r\nconst chartPageLink = document.getElementById('chartPageLink')\r\n//Ссылка на страницу консолидированный график\r\nconst unitedChartLink = document.getElementById('unitedChartLink')\r\n//Страница консолидированный график\r\nconst unitedChartPage = document.getElementById('unitedChartPage')\r\n//Текущая страница, на которой находится юзер\r\nlet pageToShow\r\n\r\n\r\nwindow.addEventListener('load', () => {\r\n\tif (sessionStorage[\"pageToShow\"]) {\r\n\t\tpageToShow = sessionStorage.getItem('pageToShow')\r\n\t\taddRendered(document.getElementById(pageToShow))\r\n\t} else {\r\n\t\taddRendered(volumePage)\r\n\t\trememberPage('volumePage')\r\n\t\t$('#volumePage').hide().fadeIn(500);\r\n\t}\r\n})\r\n\r\n\r\nvolumePageLink.addEventListener('click', () => {\r\n\thideRendered()\r\n\taddRendered(volumePage)\r\n\trememberPage('volumePage')\r\n\t$('#volumePage').hide().fadeIn(500);\r\n})\r\n\r\n\r\nchartPageLink.addEventListener('click', () => {\r\n\thideRendered()\r\n\taddRendered(chartPage)\r\n\trememberPage('chartPage')\r\n\t$('#chartPage').hide().fadeIn(500);\r\n})\r\n\r\n\r\nunitedChartLink.addEventListener('click', () => {\r\n\thideRendered()\r\n\taddRendered(unitedChartPage)\r\n\trememberPage('unitedChartPage')\r\n\t$('#unitedChartPage').hide().fadeIn(500);\r\n})\r\n\r\n\r\n//Функция выбирает текущий отрендеренный html, прячет его и убирает класс rendered, чтобы его можно было присвоить тому html, что встал на место скрытого\r\nfunction hideRendered() {\r\n\tdocument.querySelector('.rendered').classList.add('hide')\r\n\tdocument.querySelector('.rendered').classList.remove('rendered')\r\n}\r\n\r\n\r\n//Принимает в качестве аргумента элемент html, который нужно в данный момент отобразить и задаёт ему соответствующий класс rendered\r\nfunction addRendered($el) {\r\n\t$el.classList.remove('hide')\r\n\t$el.classList.add('rendered')\r\n}\r\n\r\n\r\n//Сохранение id текущей страницы в sessionStorage, чтобы при обновлении страницы браузера приложение открывалось на той странице, где в последний раз был юзер\r\nfunction rememberPage(id) {\r\n\tsessionStorage.setItem('pageToShow', id)\r\n}\r\n\n\n//# sourceURL=webpack:///./src/modules/commonFiles/pageRenders.js?");

/***/ }),

/***/ "./src/modules/createObjectPage/CreateObject.js":
/*!******************************************************!*\
  !*** ./src/modules/createObjectPage/CreateObject.js ***!
  \******************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _commonFiles_Classes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../commonFiles/Classes */ \"./src/modules/commonFiles/Classes.js\");\n\r\n\r\n(function () {\r\n\tconst necessaryInputs = [document.getElementById('objectName'), document.getElementById('objectEstimate'), document.getElementById('objectArea')]\r\n\r\n\tconst unnecessaryInputs = [document.getElementById('flatsSquare'), document.getElementById('officesSquare'), document.getElementById('tradeSquare'), document.getElementById('storagesSquare'), document.getElementById('parkingSquare')]\r\n\r\n\tconst markupInputs = [document.getElementById('flatsMarkup'), document.getElementById('officesMarkup'), document.getElementById('tradeMarkup'), document.getElementById('storagesMarkup'), document.getElementById('parkingMarkup')]\r\n\r\n\tconst priceInputs = [document.getElementById('flatsPrice'), document.getElementById('officesPrice'), document.getElementById('tradePrice'), document.getElementById('storagesPrice'), document.getElementById('parkingPrice')]\r\n\t\r\n\tconst squareInputs = []\r\n\t\r\n\tconst displayedMarks = []\r\n\tconst displayedPrices = []\r\n\r\n\tconst objectPassportNextStepButton = document.getElementById('objectPassportNextStepButton')\r\n\tconst secondHalfOfForm = document.querySelector('.object__passport__cost_price')\r\n\tconst m2OwnCostInput = document.getElementById('m2OwnCostInput')\r\n\tconst countPriceButton = document.getElementById('countPriceButton')\r\n\tconst totalRevenueInput = document.getElementById('totalRevenue')\r\n\r\n\tlet isNecessaryInputsValid = false\r\n\tlet isUnnecessaryInputsValid = false\r\n\tlet totalSquare;\r\n\tlet estimate;\r\n\tlet m2OwnCost;\r\n\t\r\n\t\r\n\tfunction validNecessaryInputs(necessaryInputs) {\r\n\t\tconst errorSpan = `<small class=\"small_error\">Данное поле обязательно к заполнению</small>`\r\n\t\tconst incorrectDataSpan = `<small class=\"small_error\">Введите корректные данные</small>`\r\n\r\n\t\tfor (let i = 0; i < necessaryInputs.length; i++) {\r\n\t\t\tif (!necessaryInputs[i].value) {\r\n\t\t\t\tif (necessaryInputs[i].parentNode.lastElementChild == document.querySelector('.small_error')) {\r\n\t\t\t\t\tnecessaryInputs[i].parentNode.removeChild(document.querySelector('.small_error'))\r\n\t\t\t\t}\r\n\t\t\t\tnecessaryInputs[i].insertAdjacentHTML('afterend', errorSpan)\r\n\t\t\t\treturn false\r\n\t\t\t} else {\r\n\t\t\t\tif (necessaryInputs[i].parentNode.lastElementChild == document.querySelector('.small_error')) {\r\n\t\t\t\t\tnecessaryInputs[i].parentNode.removeChild(document.querySelector('.small_error'))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (necessaryInputs[i] == document.getElementById('objectEstimate')) {\r\n\t\t\t\tif (+(necessaryInputs[i].value) < 10000) {\r\n\t\t\t\t\tnecessaryInputs[i].insertAdjacentHTML('afterend', incorrectDataSpan)\r\n\t\t\t\t\treturn false\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (necessaryInputs[i].parentNode.lastElementChild == document.querySelector('.small_error')) {\r\n\t\t\t\t\t\tnecessaryInputs[i].parentNode.removeChild(document.querySelector('.small_error'))\r\n\t\t\t\t\t}\r\n\t\t\t\t\testimate = +(necessaryInputs[i].value.replace(/ /g, \"\"))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (necessaryInputs[i] == document.getElementById('objectArea')) {\r\n\t\t\t\tif (+(necessaryInputs[i].value) < 100) {\r\n\t\t\t\t\tnecessaryInputs[i].insertAdjacentHTML('afterend', incorrectDataSpan)\r\n\t\t\t\t\treturn false\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(+(necessaryInputs[i].value.replace(/ /g, \"\")))\r\n\t\t\t\t\ttotalSquare = +(necessaryInputs[i].value.replace(/ /g, \"\"))\r\n\t\t\t\t\tif (necessaryInputs[i].parentNode.lastElementChild == document.querySelector('.small_error')) {\r\n\t\t\t\t\t\tnecessaryInputs[i].parentNode.removeChild(document.querySelector('.small_error'))\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\r\n\r\n\tfunction validUnnecessaryInputs(unnecessaryInputs) {\r\n\t\tconst errorSpan = `<small class=\"small_error\">Заполните, как минимум, 1 тип недвижимости</small>`\r\n\t\tconst incorrectDataSpan = `<small class=\"small_error\">Сумма введённых кв.метров не соответсвует общему числу кв.м. к реализации.</small>`\r\n\t\tconst passportUlLabel = document.getElementById('passportUlLabel')\r\n\r\n\t\tlet fulfilledInputsCounter = 0\r\n\t\tlet inputsSum = 0\r\n\t\tfor (let i = 0; i < unnecessaryInputs.length; i++) {\r\n\t\t\tif (+(unnecessaryInputs[i].value.replace(/ /g, \"\")) > 0) {\r\n\t\t\t\tfulfilledInputsCounter++\r\n\t\t\t\tinputsSum += +(unnecessaryInputs[i].value.replace(/ /g, \"\"))\r\n\t\t\t\tmarkupInputs[i].parentNode.classList.remove('hide')\r\n\t\t\t\tpriceInputs[i].parentNode.classList.remove('hide')\r\n\t\t\t\tdisplayedMarks.push(markupInputs[i])\r\n\t\t\t\tdisplayedPrices.push(priceInputs[i])\r\n\t\t\t\tsquareInputs.push(+(unnecessaryInputs[i].value.replace(/ /g, \"\")))\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tmarkupInputs[i].parentNode.classList.add('hide')\r\n\t\t\t\tpriceInputs[i].parentNode.classList.add('hide')\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (fulfilledInputsCounter == 0) {\r\n\t\t\tif (passportUlLabel.nextElementSibling == document.querySelector('.small_error')) {\r\n\t\t\t\tpassportUlLabel.parentNode.removeChild(document.querySelector('.small_error'))\r\n\t\t\t}\r\n\t\t\tpassportUlLabel.insertAdjacentHTML('afterend', errorSpan)\r\n\t\t\treturn false\r\n\t\t} else {\r\n\t\t\tif (passportUlLabel.nextElementSibling == document.querySelector('.small_error')) {\r\n\t\t\t\tpassportUlLabel.parentNode.removeChild(document.querySelector('.small_error'))\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (inputsSum != totalSquare) {\r\n\t\t\tif (passportUlLabel.nextElementSibling == document.querySelector('.small_error')) {\r\n\t\t\t\tpassportUlLabel.parentNode.removeChild(document.querySelector('.small_error'))\r\n\t\t\t}\r\n\t\t\tpassportUlLabel.insertAdjacentHTML('afterend', incorrectDataSpan)\r\n\t\t\tsquareInputs.length = 0\r\n\t\t\treturn false\r\n\t\t} else {\r\n\t\t\tif (passportUlLabel.nextElementSibling == document.querySelector('.small_error')) {\r\n\t\t\t\tpassportUlLabel.parentNode.removeChild(document.querySelector('.small_error'))\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true\r\n\t}\r\n\r\n\r\n\tfunction showSecondHalfOfForm() {\r\n\t\tsecondHalfOfForm.classList.remove('hide')\r\n\t\tobjectPassportNextStepButton.classList.add('hide')\r\n\t}\r\n\r\n\r\n\tfunction hideSecondHalfOfForm() {\r\n\t\tsecondHalfOfForm.classList.add('hide')\r\n\t\tobjectPassportNextStepButton.classList.remove('hide')\r\n\t}\r\n\r\n\r\n\tfunction countM2OwnCost(totalSquare, estimate, m2OwnCost, inputToDisplay) {\r\n\t\tm2OwnCost = (estimate / totalSquare).toFixed(0)\r\n\t\tinputToDisplay.value = String(m2OwnCost).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')\r\n\t\treturn m2OwnCost\r\n\t}\r\n\t\r\n\t\r\n\tfunction countPrice(){\r\n\t\tlet markup;\r\n\t\tlet price;\r\n\t\tlet totalRevenue = 0\r\n\t\t\r\n\t\tfor(let i = 0; i < displayedMarks.length; i++){\r\n\t\t\tmarkup = +(displayedMarks[i].value)\r\n\t\t\tconsole.log(markup, m2OwnCost)\r\n\t\t\tprice = (((m2OwnCost / 100) * markup) + m2OwnCost).toFixed(0)\r\n\t\t\tdisplayedPrices[i].value = String(price).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')\r\n\t\t\ttotalRevenue += (price * squareInputs[i])\r\n\t\t}\r\n\t\ttotalRevenueInput.value = String(totalRevenue).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')\r\n\t}\r\n\t\r\n\r\n\tobjectPassportNextStepButton.addEventListener('click', (event) => {\r\n\t\tevent.preventDefault()\r\n\r\n\t\tisNecessaryInputsValid = validNecessaryInputs(necessaryInputs)\r\n\t\tisUnnecessaryInputsValid = validUnnecessaryInputs(unnecessaryInputs)\r\n\r\n\t\tif (isNecessaryInputsValid && isUnnecessaryInputsValid) {\r\n\t\t\tshowSecondHalfOfForm()\r\n\t\t\tm2OwnCost = countM2OwnCost(totalSquare, estimate, m2OwnCost, m2OwnCostInput)\r\n\t\t}\r\n\t\tm2OwnCost = +(m2OwnCost)\r\n\t})\r\n\t\r\n\tcountPriceButton.addEventListener('click',(event) =>{\r\n\t\tevent.preventDefault()\r\n\t\t\r\n\t\tcountPrice()\r\n\t})\r\n\r\n}())\r\n\n\n//# sourceURL=webpack:///./src/modules/createObjectPage/CreateObject.js?");

/***/ })

/******/ });